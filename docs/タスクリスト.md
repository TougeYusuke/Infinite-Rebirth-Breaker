# Infinite Rebirth Breaker - タスクリスト（れいあのコーディングバトル版）

**最終更新:** 2026-01-02  
**現在のフェーズ:** Phase 3完了 → Phase 4準備中

> 📌 **注意:** 以前の「ブロック崩しRPG」のタスクはアーカイブされました。本リストは「れいあキャラクター中心のクリッカーRPG」用の新規リストです。

---

## 📊 全体進捗状況

| フェーズ | 概要 | 進捗率 | ステータス |
|---------|------|--------|-----------|
| **Phase 0** | 基本環境・ユーティリティ (既存流用) | 100% | ✅ 完了 |
| **Phase 1** | れいあキャラクター実装 | 100% | ✅ 完了 |
| **Phase 2** | タスクシステム | 100% | ✅ 完了 |
| **Phase 3** | 攻撃システム | 100% | ✅ 完了 |
| **Phase 4** | 覚醒モード（コンボ） | 0% | ⚪ 未着手 |
| **Phase 5** | ゲームループ完成 | 0% | ⚪ 未着手 |

**全体進捗:** 60% (3/5フェーズ完了)

---

## ✅ Phase 0: 基本環境・ユーティリティ (既存流用)

- [x] TypeScript + Vite + Phaser 3 環境構築
- [x] break_infinity.js + DecimalWrapper (既存流用)
- [x] LocalStorage管理 (Storage.ts) (既存流用)
- [x] Formatter.ts (数値表示) (既存流用)
- [x] Rebirth/Upgradeシステム (既存流用・改修予定)

**完了日:** 2026-01-01

---

## ✅ Phase 1: れいあキャラクター実装

**目標:** 画面中央に「れいあ」を表示し、かわいらしいアニメーションを実装する。

### 1-1. れいあの基本表示 ✅ 完了
- [x] `Reia.ts` クラスの作成（2026-01-02）
  - Phaser Containerとして実装
  - 画面中央に配置（固定位置）
  - シンプルな図形で表現（プロトタイプ）

### 1-2. 基本アニメーション ✅ 完了
- [x] 待機アニメーション（2026-01-02）
  - 時々首をかしげる（ループアニメーション）
- [x] タップ時アニメーション（2026-01-02）
  - キーボードを叩く（上下に少し動く）
  - 連打時の位置ずれ修正（2026-01-02）

### 1-3. 表情システム ✅ 完了
- [x] HP状態に応じた表情（2026-01-02）
  - 100%: 元気な表情
  - 50%以下: 疲れた表情
  - 20%以下: 焦った表情
- [x] コンボ状態に応じた表情（2026-01-02）
  - コンボ0-10: 普通の表情
  - コンボ11-50: やる気満々の表情
  - コンボ51以上: テンションMAXの表情

### 1-4. ストレスシステム（差別化要素） ✅ 完了
- [x] `StressSystem.ts` クラスの作成（2026-01-02）
  - ストレスゲージの管理
  - タスクの距離に応じたストレス増加計算
  - タスクの種類に応じたストレス増加量の調整
- [x] 感情状態の実装（2026-01-02）
  - 平常心（ストレス0-30%）
  - 焦り（ストレス31-70%）
  - パニック（ストレス71-100%）
  - 集中（コンボ中、ストレスが低い）
- [x] 感情状態に応じたステータス変化（2026-01-02）
  - 攻撃力・攻撃速度の調整
  - 表情の変更
- [x] れいあの反応（セリフ）の実装（2026-01-02）
  - ストレスが高い時
  - タスクを倒した時
  - コンボが続く時

**完了日:** 2026-01-02

---

## ✅ Phase 2: タスクシステム

**目標:** れいあの周りにタスク（敵）が出現し、近づいてくる。

### 2-1. タスクの生成と配置 ✅ 完了
- [x] `Task.ts` クラスの作成（2026-01-02）
  - HP管理（Decimal型）
  - 種類別の見た目（Bug, Feature, Review, Urgent）
  - れいあの周りを囲むように配置するロジック

### 2-2. タスクの挙動 ✅ 完了
- [x] れいあに近づく挙動（2026-01-02）
  - ゆっくり近づく（速度は種類によって異なる）
  - れいあに触れるとゲームオーバー（検出実装済み）

### 2-3. タスクの破壊処理 ✅ 完了
- [x] HPが0になった時の処理（2026-01-02）
  - タスク削除処理
  - ダメージ数値のポップアップ（既存のDamagePopupを使用）

### 2-4. タスクの種類による戦略性（差別化要素） ⚪ 未着手
- [ ] 各タスクの特殊能力の実装
  - バグ: デバッグポイント獲得
  - 仕様変更: 仕様理解度UP（一時的攻撃力UP）
  - レビュー依頼: コード品質UP（オート攻撃間隔短縮）
  - 緊急タスク: 緊急対応力UP（ストレス耐性UP）
- [ ] タスクの相性システムの実装
  - 連続で倒すとボーナス（仕様変更3連続など）
  - 同じ種類を連続で倒すと創造覚醒の発動条件に貢献
- [ ] タスク倒した時の報酬システムの実装
  - デバッグポイントの管理
  - 仕様理解度の一時的効果
  - コード品質の永続的効果
  - 緊急対応力の永続的効果

**完了日:** 2026-01-02（基本機能のみ）

---

## ✅ Phase 3: 攻撃システム

**目標:** タップで「コードを書く」→ ダメージ → タスクが消える。

### 3-1. タップ攻撃 ✅ 完了
- [x] `CodeBullet.ts` クラスの作成（2026-01-02）
  - タップ位置から発射
  - かわいい「コード」のアイコン（`</>`, `{}`, `[]`, `()`, `=>`, `++`, `--`）
- [x] れいあの方向転換（2026-01-02）
  - タップ時にタップアニメーション実行

### 3-2. オート攻撃 ✅ 完了
- [x] 一定間隔（1秒ごと）で自動発射（2026-01-02）
- [x] れいあが自動でコードを書き続ける演出（2026-01-02）
  - 最も近いタスクを自動的に狙う

### 3-3. ダメージ計算 ✅ 完了
- [x] ダメージ計算式の実装（2026-01-02）
  - `baseDamage * attackLevel * comboMultiplier * 感情状態倍率`
  - 感情状態（平常心100%、焦り80%、パニック50%、集中120%）を反映
- [x] ダメージ数値のポップアップ（2026-01-02）
  - 既存のDamagePopupクラスを使用

**完了日:** 2026-01-02

---

## ⚪ Phase 4: 覚醒モード（差別化要素：独自性強化）

**目標:** 3種類の覚醒モードを実装し、戦略性と爽快感を両立する。

### 4-1. テンションゲージ
- [ ] タスクを倒すごとにゲージが溜まる
- [ ] ストレスが低い状態でタスクを倒すと、より多くゲージが溜まる
- [ ] コンボが続くとゲージの溜まりが加速
- [ ] ゲージの表示（UI）

### 4-2. 覚醒モードの実装（3種類）

#### 集中覚醒（コンボ型）
- [ ] コンボが一定数（例: 10コンボ）続くと発動
- [ ] 攻撃速度が2倍になる、攻撃力+50%
- [ ] 持続時間の管理（10秒）

#### 爆発覚醒（ストレス型）
- [ ] ストレスがMAX（100%）になると発動
- [ ] 画面内のタスクを一気にクリア（HPに関係なく全滅）
- [ ] 発動後ストレスが0%にリセット

#### 創造覚醒（戦略型）
- [ ] 同じ種類のタスクを連続で倒す（例: バグを5連続で倒す）
- [ ] 新しい攻撃パターンが使える（例: 複数のタスクに同時ダメージ）
- [ ] 持続時間の管理（15秒）

### 4-3. 覚醒モードの演出
- [ ] れいあの目が光る
- [ ] 周りにコードが舞い散る
- [ ] 画面全体が明るくなる
- [ ] カラフルなエフェクト
- [ ] セリフの実装（「やれる！」「いくよ！」「覚醒！」など）

---

## ⚪ Phase 5: ゲームループの完成

**目標:** ゲームとして成立させる。

### 5-1. Waveシステム
- [ ] タスクの自動生成と降下ロジック
- [ ] Wave数に応じた難易度調整

### 5-2. ゲームオーバー判定
- [ ] タスクがれいあに触れた時の処理（検出は実装済み、シーン遷移は未実装）
- [ ] 「納期に間に合わなかった...」的なメッセージ表示

### 5-3. 転生システムの実装
- [ ] 既存のRebirth/Upgradeシステムを流用・改修
- [ ] ゲームオーバー画面と強化メニューの再構築

---

## 🎯 次のアクション

### 優先度: 高

1. **タスクの種類による戦略性**（Phase 2-4）
   - 見積もり: 4-5時間
   - 差別化要素: タスクの種類による戦略性
   - 依存関係: Phase 2-1, Phase 2-2（完了済み）

2. **覚醒モードの3種類実装**（Phase 4-2）
   - 見積もり: 5-6時間
   - 差別化要素: 覚醒モードの独自性強化
   - 依存関係: Phase 3-1, Phase 1-4（完了済み）

3. **ゲームオーバー処理の完成**（Phase 5-2）
   - 見積もり: 2-3時間
   - 依存関係: Phase 2-2（完了済み）

---

## 📚 関連ドキュメント

- [[実装ベース仕様書|実装ベース仕様書.md]] - 詳細な仕様
- [[企画仕様書|企画仕様書.md]] - 企画段階の仕様

---

**最終更新:** 2026-01-02
